contents:
  packages:
    - busybox
    - k8s-sidecar
    # Pin to python 3.11 until issues with 3.12 are resolved.
    - python3~3.11

environment:
  PYTHONUNBUFFERED: 1

entrypoint:
  command: python -u /usr/share/app/sidecar.py

accounts:
  groups:
    - groupname: k8s-sidecar
      gid: 65532
  users:
    - username: k8s-sidecar
      uid: 65532
  run-as: 65532
